function ElementArray(c){this.SetCount(c||0)}ElementArray.prototype.NullMask=16;ElementArray.prototype.SetCount=function(c){var d=parseInt(c,10);if(isNaN(d))throw"Invalid element count: "+c;this.Elements=[d];for(c=0;c<d;c++)this.Elements[c]=0};
ElementArray.prototype.SetText=function(c,d){null===c&&(c="");c=c.toString();for(var a=0;a<this.Elements.length;a++)this.SetElementValue(a,0);if(0!==c.length)for(a=0;a<this.Elements.length&&a<c.length;a++){var b=d[c[a]];if(null===b||void 0===b)b=this.NullMask;this.SetElementValue(a,b)}};ElementArray.prototype.SetElementValue=function(c,d){0<=c&&c<this.Elements.length&&(this.Elements[c]=parseInt(d,10))};function SegmentCanvas(){this.SegmentWidth=0.16;this.SegmentInterval=0.05;this.BevelWidth=0.06;this.SideBevelEnabled=!1;this.FillLight="#86FD06";this.FillDark="#004400";this.StrokeLight="#007700";this.StrokeDark="#440044";this.StrokeWidth=0;this.Spacing=this.Padding=10;this.Y=this.X=0;this.Width=200;this.Height=100;this.ElementArray=new ElementArray(1)}SegmentCanvas.prototype.DispayText=function(c){this.CalcPoints();this.ElementArray.SetText(c,this.CharacterMasks);this.Draw(this.Canvas,this.ElementArray.Elements)};
SegmentCanvas.prototype.Draw=function(c,d){var a=c.getContext("2d");a.clearRect(this.X,this.Y,this.Width,this.Height);a.save();var b=this.CalcElementDimensions().Width;a.translate(this.X,this.Y);a.translate(this.Padding,this.Padding);for(var h=0;h<d.length;h++){for(var m=d[h],f=0;f<this.Points.length;f++){var k=m&1<<f?this.FillLight:this.FillDark,g=m&1<<f?this.StrokeLight:this.StrokeDark;a.lineWidth=this.StrokeWidth;a.strokeStyle=g;a.fillStyle=k;a.beginPath();a.moveTo(this.Points[f][0].x,this.Points[f][0].y);
for(k=1;k<this.Points[f].length;k++)a.lineTo(this.Points[f][k].x,this.Points[f][k].y);a.closePath();a.fill();0<this.StrokeWidth&&a.stroke()}a.translate(b+this.Spacing,0)}a.restore()};SegmentCanvas.prototype.SetCount=function(c){this.ElementArray.SetCount(c)};SegmentCanvas.prototype.GetCount=function(){return this.ElementArray.Elements.length};
SegmentCanvas.prototype.CalcElementDimensions=function(){var c=this.ElementArray.Elements.length,d=this.Height,d=d-2*this.Padding,a=this.Width,a=a-this.Spacing*(c-1),a=a-2*this.Padding;return{Width:a/c,Height:d}};SegmentCanvas.prototype.FlipVertical=function(c,d){for(var a=[],b=0;b<c.length;b++)a[b]={},a[b].x=c[b].x,a[b].y=d-c[b].y;return a};SegmentCanvas.prototype.FlipHorizontal=function(c,d){for(var a=[],b=0;b<c.length;b++)a[b]={},a[b].x=d-c[b].x,a[b].y=c[b].y;return a};function SixteenSegment(c,d,a,b,h,m){this.X=h||0;this.Y=m||0;this.Width=a||d.width;this.Height=b||d.height;this.Canvas=d;this.CalcPoints();this.SetCount(c)}window.SixteenSegment=SixteenSegment;SixteenSegment.prototype=new SegmentCanvas;
SixteenSegment.prototype.CalcPoints=function(){var c=this.CalcElementDimensions(),d=c.Width,c=c.Height,a=this.SegmentWidth*d,b=this.SegmentInterval*d,h=this.BevelWidth*a,m=this.SideBevelEnabled?1:0,f=0.8*a,k=c/d,g=Math.SQRT2,n=Math.sqrt(3),p=d/2-a/2,q=d/2,u=a/2,s=d/2+a/2,t=d-a,l=c/2-a/2,v=d-a/2,r=c/2,w=c/2+a/2,e=[];e[0]=[{x:2*h+b/g,y:0},{x:q-b/2-a/2*m,y:0},{x:q-b/2,y:u},{x:p-b/2,y:a},{x:a+b/g,y:a},{x:h+b/g,y:0+h}];e[9]=[{x:s+b/g,y:l},{x:t-b/2*n,y:l},{x:v-b/2*n,y:r},{x:t-b/2*n,y:w},{x:s+b/g,y:w},{x:q+
b/g,y:r}];e[2]=[{x:d,y:0+2*h+b/g},{x:d,y:r-b/2-a/2*m},{x:v,y:r-b/2},{x:t,y:l-b/2},{x:t,y:a+b/g},{x:d-h,y:0+h+b/g}];e[11]=[{x:s,y:a+b/2*n},{x:s,y:l-b/g},{x:q,y:r-b/g},{x:p,y:l-b/g},{x:p,y:a+b/2*n},{x:q,y:u+b/2*n}];e[10]=[{x:(a+f)/k+b,y:a+b},{x:p-b,y:p*k-f-b},{x:p-b,y:l-b},{x:(l-f)/k-b,y:l-b},{x:a+b,y:a*k+f+b},{x:a+b,y:a+b}];e[1]=this.FlipHorizontal(e[0],d);e[3]=this.FlipVertical(e[2],c);e[4]=this.FlipVertical(e[0],c);e[5]=this.FlipHorizontal(e[4],d);e[6]=this.FlipHorizontal(e[3],d);e[7]=this.FlipHorizontal(e[2],
d);e[8]=this.FlipHorizontal(e[9],d);e[12]=this.FlipHorizontal(e[10],d);e[13]=this.FlipVertical(e[12],c);e[14]=this.FlipVertical(e[11],c);e[15]=this.FlipVertical(e[10],c);this.Points=e};
SixteenSegment.prototype.CharacterMasks=function(){return{" ":0,"":0,"0":37119,1:4108,2:887,3:575,4:908,5:955,6:1019,7:15,8:1023,9:911,A:975,B:19007,C:243,D:18495,E:1011,F:451,G:763,H:972,I:18483,J:124,K:12736,L:240,M:5324,N:9420,O:255,P:967,Q:8447,R:9159,S:955,T:18435,U:252,V:37056,W:41164,X:46080,Y:17284,Z:36915,"-":768,"?":16903,"+":19200,"*":65280}}();
